<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>无缝发布：我的 Obsidian 到 Hugo 自动化同步流 | Suyurine's Blog</title><meta name=keywords content="Obsidian,Hugo,Docker"><meta name=description content="作为一名长期使用 Obsidian 记录生活和技术的用户，我也同时是静态博客 Hugo 的拥趸。但长久以来，最大的痛点在于如何把这两者优雅地连接起来。
我不希望每次发布文章都要手动复制文件、处理图片路径、调整 Front Matter。我理想中的流是：在 Obsidian 里按下 Ctrl+S，本地的 Hugo 预览就能实时更新，确认无误后一个 Git Push 完成发布。"><meta name=author content="Suyurine"><link rel=canonical href=https://blog.suyuri.com/posts/%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2/><link crossorigin=anonymous href=/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css integrity="sha256-NDzEgLn/yPBMy+XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.suyuri.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.suyuri.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.suyuri.com/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.suyuri.com/apple-touch-icon.png><link rel=mask-icon href=https://blog.suyuri.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://blog.suyuri.com/posts/%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://blog.suyuri.com/posts/%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2/"><meta property="og:site_name" content="Suyurine's Blog"><meta property="og:title" content="无缝发布：我的 Obsidian 到 Hugo 自动化同步流"><meta property="og:description" content="作为一名长期使用 Obsidian 记录生活和技术的用户，我也同时是静态博客 Hugo 的拥趸。但长久以来，最大的痛点在于如何把这两者优雅地连接起来。
我不希望每次发布文章都要手动复制文件、处理图片路径、调整 Front Matter。我理想中的流是：在 Obsidian 里按下 Ctrl+S，本地的 Hugo 预览就能实时更新，确认无误后一个 Git Push 完成发布。"><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2026-01-07T10:00:00+08:00"><meta property="article:modified_time" content="2026-01-07T10:00:00+08:00"><meta property="article:tag" content="Obsidian"><meta property="article:tag" content="Hugo"><meta property="article:tag" content="Docker"><meta name=twitter:card content="summary"><meta name=twitter:title content="无缝发布：我的 Obsidian 到 Hugo 自动化同步流"><meta name=twitter:description content="作为一名长期使用 Obsidian 记录生活和技术的用户，我也同时是静态博客 Hugo 的拥趸。但长久以来，最大的痛点在于如何把这两者优雅地连接起来。
我不希望每次发布文章都要手动复制文件、处理图片路径、调整 Front Matter。我理想中的流是：在 Obsidian 里按下 Ctrl+S，本地的 Hugo 预览就能实时更新，确认无误后一个 Git Push 完成发布。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.suyuri.com/posts/"},{"@type":"ListItem","position":2,"name":"无缝发布：我的 Obsidian 到 Hugo 自动化同步流","item":"https://blog.suyuri.com/posts/%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"无缝发布：我的 Obsidian 到 Hugo 自动化同步流","name":"无缝发布：我的 Obsidian 到 Hugo 自动化同步流","description":"作为一名长期使用 Obsidian 记录生活和技术的用户，我也同时是静态博客 Hugo 的拥趸。但长久以来，最大的痛点在于如何把这两者优雅地连接起来。\n我不希望每次发布文章都要手动复制文件、处理图片路径、调整 Front Matter。我理想中的流是：在 Obsidian 里按下 Ctrl+S，本地的 Hugo 预览就能实时更新，确认无误后一个 Git Push 完成发布。\n","keywords":["Obsidian","Hugo","Docker"],"articleBody":"作为一名长期使用 Obsidian 记录生活和技术的用户，我也同时是静态博客 Hugo 的拥趸。但长久以来，最大的痛点在于如何把这两者优雅地连接起来。\n我不希望每次发布文章都要手动复制文件、处理图片路径、调整 Front Matter。我理想中的流是：在 Obsidian 里按下 Ctrl+S，本地的 Hugo 预览就能实时更新，确认无误后一个 Git Push 完成发布。\n经过一番折腾，我终于基于 CouchDB 和自己编写的一个同步脚本，打通了这套全链路。\n架构概览 我的整套发布流涉及以下几个核心节点：\n写作端：Obsidian (配合 Self-hosted Livesync 插件) 数据中转：CouchDB (运行在 Docker 中) 同步核心：自研提取脚本 (运行在 Docker 中) 生成端：本地 Hugo 环境 图床方案：Lsky Pro + Cloudflare R2 核心流程 Obsidian 写作：我在 Obsidian 中修改笔记。 实时同步：Obsidian Livesync 插件将变更实时推送到我的私有 CouchDB 数据库。 自动提取：我的同步脚本监听数据库变动，解析数据，还原为标准的 .md 文件写入 Hugo 的 content 目录。 本地调试：本地运行的 hugo server 检测到文件变动，实时刷新浏览器预览。 发布：确认无误后，Git Commit \u0026 Push，触发 CI/CD 或直接推送到服务器。 为什么不直接用 Obsidian Git？ 很多人可能会问：“为什么不直接用 Obsidian Git 插件把 Vault 推送到 GitHub，然后用 GitHub Actions 自动构建 Hugo 呢？”\n虽然 Git 方案配置简单，但在实际的高频写作和多端同步场景下，我这套“数据库 + 中转脚本”的方案有着无法替代的优势：\n1. 移动端的“无感”体验 (The Mobile Experience) Git 方案的痛点：在手机（尤其是 iOS）上使用 Git 体验极差。你需要在写作前 Pull，写作后 Push。如果忘记 Pull 直接写，很容易产生冲突；如果忘记 Push，回到电脑前又看不到最新的修改。这打断了“随时随地记录”的心流。\n本方案优势：Livesync 是基于数据库的实时（或准实时）同步。我在 iPhone 上写一段话，几秒钟后它就自动出现在了我的电脑和 CouchDB 里，完全不需要手动操作。这种体验更接近 Notion 或 Google Docs，丝般顺滑。\n2. “保存”与“发布”的逻辑解耦 Git 方案的痛点：如果你用 Git 插件自动备份（比如每 10 分钟），你的 Commit 历史会充斥着 “Auto backup” 这样的垃圾信息。如果你手动 Commit，又很容易忘记。更重要的是，保存笔记和发布博客混在了一起，你想保存草稿，却可能意外触发了 CI/CD 自动发布。\n本方案优势：\n写作层：利用 CouchDB 同步，我可以随意修改、产生无数个中间版本，这只是“数据同步”。\n发布层：当我觉得文章写好了，脚本已经把它提取到了 Hugo 目录。此时我只需在 Hugo 目录下做一次有意义的 Git Commit \u0026 Push。\n结论：保持了 Git 历史的干净，且发布动作充满了仪式感和掌控感。\n3. 精准的隐私隔离 (Selective Publishing) Git 方案的痛点：通常 Git 插件是针对整个 Vault 的。如果你想把博客源码开源，却又想保留私人日记，你需要折腾 .gitignore 或者复杂的 submodule 嵌套，稍有不慎就会把私钥或日记 push 上去。\n本方案优势：我的脚本原生支持 TARGET_FOLDER 过滤。我的 Vault 里可以有 Diary、Work、Finance 等无数私密文件夹，脚本只会把 Blog 文件夹下的内容提取出来。物理级别的隔离，让我对隐私安全绝对放心。\n4. 避免 Git 冲突地狱 Git 方案的痛点：Obsidian 的文件本质是文本，但前台配置（workspace, appearance）经常变动。多端 Git 同步时，经常出现 Merge Conflict，导致文件里出现 \u003c\u003c\u003c\u003c HEAD 这种破坏标记，修复起来很烦人。\n本方案优势：Livesync 基于 CouchDB 的文档级冲突解决机制，比 Git 处理纯文本冲突更智能、更温和。即使出现冲突，也是在数据库层面解决，不会破坏本地正在调试的 Hugo 构建环境。\n5. 纯净的内容交付 Git 方案的痛点：Obsidian 的 Markdown 语法（如双链 [[Link]]）和 Hugo 标准 Markdown 并不完全兼容。直接 Push 原文可能导致博客渲染出错。\n本方案优势：既然中间有一个 Python 脚本在跑，我拥有了预处理能力。未来我可以在脚本里加入正则替换功能，比如自动把 [[Obsidian链接]] 转换为 [Hugo链接](...)，或者自动处理 Front Matter 的格式转换，这是直接 Git Push 做不到的。\n6. Self-Hosted 玩家的终极快乐：内网闭环 如果你不是将博客托管在 GitHub Pages，而是运行在自己的服务器（VPS 或 NAS）上，那这个方案简直是为你量身定做的。\nGit 方案的痛点：如果你自建博客，使用 Git 发布通常意味着：本地 Push -\u003e GitHub 接收 -\u003e 触发 Webhook -\u003e 服务器 Pull -\u003e 构建。或者你需要配置 GitHub Actions Runner，把数据传给微软（GitHub），再传回你的服务器。这不仅慢，而且依赖外部网络。一旦 GitHub 宕机或网络波动，发布就卡住了。\n本方案优势：这是一条纯内网的、点对点的高速通道。\n拓扑优势：Obsidian 在手边，CouchDB 和 Web Server 在自家服务器里。数据从头到尾没有流经任何第三方平台。\n架构极简：脚本直接把 Markdown 吐到 Web 服务器（如 Nginx 容器挂载的目录）或 Hugo 的监听目录下。没有 Webhook，没有 CI/CD 流水线，没有公网传输。\n极致速度：这种“左手倒右手”的本地文件系统操作，让更新速度只取决于你服务器的磁盘 IO，而不是公网带宽。\n关于图片的处理：图床方案 在静态博客中，图片管理一直是个麻烦事。如果把图片和 Markdown 混在一起同步，仓库体积会迅速膨胀，且路径处理极其繁琐。\n我的解决方案是完全剥离图片存储：\n存储后端：使用 Cloudflare R2，免费额度大且速度快。 管理前端：自建 Lsky Pro 图床。 上传插件：在 Obsidian 中安装 Image To Lskypro 插件。 效果：当我在 Obsidian 中粘贴图片时，插件自动将其上传至 R2，并返回标准的 Markdown 图片链接（如 ![] (https://img.mydomain.com/...)）。\n因此，存入 CouchDB 和同步到本地的 Markdown 文件中，只包含纯文本链接，干净清爽。\n缺失的一环：从 CouchDB 到 Markdown Obsidian Livesync 插件非常强大，实现了多端实时同步。但它为了效率，将数据以 JSON/Blob 的形式存在 CouchDB 里，并不是直接存储为文件系统中的 .md 文件。\n为了把数据库里的“碎片”还原成 Hugo 能识别的博客文章，我需要一个“翻译官”。\n自研同步脚本 (Obsidian-Sync-Script) 我在 Docker 容器中跑了一个 Python 脚本，充当了这个桥梁。\n它主要做了这几件事：\n⏱️ 定时轮询：脚本会以设定的时间间隔（例如每 20 秒）去询问 CouchDB 是否有新变动。虽然不是毫秒级实时，但作为博客发布流，这种准实时的节奏既节省资源，又能保证写完几口咖啡的时间里内容就已同步。 📂 目录还原：完美保留 Obsidian 中的文件夹层级结构（例如 /Blog/Tech/Docker.md）。 🧹 自动清理：如果在 Obsidian 里删除了文章或移动了文件夹，脚本会自动同步删除或移动本地文件，保持目录整洁。 🛡️ 智能过滤：我设置了 TARGET_FOLDER 变量，只同步 Blog 文件夹下的内容，Obsidian 里的其他私有笔记绝不会泄露到博客目录 开源与使用 为了方便维护和部署，我将这个脚本封装成了 Docker 镜像。如果你也在使用 Obsidian Livesync + CouchDB 方案，并且想实现类似的自动化导出功能，可以直接使用我的镜像。\nGithub 项目地址：\n👉 Obsidian-CouchDB-Sync-Script\n(具体的 Docker Compose 配置和环境变量说明，请移步 GitHub 仓库的 README 查看)\n结语 折腾工具的最终目的是为了忘记工具。\n现在，无论是用电脑还是手机，只要我在 Obsidian 的 Blog 目录下新建一篇笔记，它就会自动出现在我的 Hugo 目录中。这种无感知的写作体验，让写博客重新变成了一件纯粹快乐的事情。\n","wordCount":"2729","inLanguage":"en","datePublished":"2026-01-07T10:00:00+08:00","dateModified":"2026-01-07T10:00:00+08:00","author":{"@type":"Person","name":"Suyurine"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.suyuri.com/posts/%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2/"},"publisher":{"@type":"Organization","name":"Suyurine's Blog","logo":{"@type":"ImageObject","url":"https://blog.suyuri.com/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://blog.suyuri.com/ accesskey=h title="Suyurine's Blog (Alt + H)">Suyurine's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.suyuri.com/ title=首页><span>首页</span></a></li><li><a href=https://blog.suyuri.com/posts/ title=文章><span>文章</span></a></li><li><a href=https://blog.suyuri.com/archives/ title=归档><span>归档</span></a></li><li><a href=https://blog.suyuri.com/tags/ title=标签><span>标签</span></a></li><li><a href=https://blog.suyuri.com/search/ title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://blog.suyuri.com/>Home</a>&nbsp;»&nbsp;<a href=https://blog.suyuri.com/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">无缝发布：我的 Obsidian 到 Hugo 自动化同步流</h1><div class=post-meta><span title='2026-01-07 10:00:00 +0800 +0800'>January 7, 2026</span>&nbsp;·&nbsp;<span>6 min</span>&nbsp;·&nbsp;<span>2729 words</span>&nbsp;·&nbsp;<span>Suyurine</span></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e6%9e%b6%e6%9e%84%e6%a6%82%e8%a7%88 aria-label=架构概览>架构概览</a><ul><li><a href=#%e6%a0%b8%e5%bf%83%e6%b5%81%e7%a8%8b aria-label=核心流程>核心流程</a></li></ul></li><li><a href=#%e4%b8%ba%e4%bb%80%e4%b9%88%e4%b8%8d%e7%9b%b4%e6%8e%a5%e7%94%a8-obsidian-git aria-label="为什么不直接用 Obsidian Git？">为什么不直接用 Obsidian Git？</a><ul><li><a href=#1-%e7%a7%bb%e5%8a%a8%e7%ab%af%e7%9a%84%e6%97%a0%e6%84%9f%e4%bd%93%e9%aa%8c-the-mobile-experience aria-label="1. 移动端的“无感”体验 (The Mobile Experience)">1. 移动端的“无感”体验 (The Mobile Experience)</a></li><li><a href=#2-%e4%bf%9d%e5%ad%98%e4%b8%8e%e5%8f%91%e5%b8%83%e7%9a%84%e9%80%bb%e8%be%91%e8%a7%a3%e8%80%a6 aria-label="2. “保存”与“发布”的逻辑解耦">2. “保存”与“发布”的逻辑解耦</a></li><li><a href=#3-%e7%b2%be%e5%87%86%e7%9a%84%e9%9a%90%e7%a7%81%e9%9a%94%e7%a6%bb-selective-publishing aria-label="3. 精准的隐私隔离 (Selective Publishing)">3. 精准的隐私隔离 (Selective Publishing)</a></li><li><a href=#4-%e9%81%bf%e5%85%8d-git-%e5%86%b2%e7%aa%81%e5%9c%b0%e7%8b%b1 aria-label="4. 避免 Git 冲突地狱">4. 避免 Git 冲突地狱</a></li><li><a href=#5-%e7%ba%af%e5%87%80%e7%9a%84%e5%86%85%e5%ae%b9%e4%ba%a4%e4%bb%98 aria-label="5. 纯净的内容交付">5. 纯净的内容交付</a></li><li><a href=#6-self-hosted-%e7%8e%a9%e5%ae%b6%e7%9a%84%e7%bb%88%e6%9e%81%e5%bf%ab%e4%b9%90%e5%86%85%e7%bd%91%e9%97%ad%e7%8e%af aria-label="6. Self-Hosted 玩家的终极快乐：内网闭环">6. Self-Hosted 玩家的终极快乐：内网闭环</a></li></ul></li><li><a href=#%e5%85%b3%e4%ba%8e%e5%9b%be%e7%89%87%e7%9a%84%e5%a4%84%e7%90%86%e5%9b%be%e5%ba%8a%e6%96%b9%e6%a1%88 aria-label=关于图片的处理：图床方案>关于图片的处理：图床方案</a></li><li><a href=#%e7%bc%ba%e5%a4%b1%e7%9a%84%e4%b8%80%e7%8e%af%e4%bb%8e-couchdb-%e5%88%b0-markdown aria-label="缺失的一环：从 CouchDB 到 Markdown">缺失的一环：从 CouchDB 到 Markdown</a><ul><li><a href=#%e8%87%aa%e7%a0%94%e5%90%8c%e6%ad%a5%e8%84%9a%e6%9c%ac-obsidian-sync-script aria-label="自研同步脚本 (Obsidian-Sync-Script)">自研同步脚本 (Obsidian-Sync-Script)</a></li><li><a href=#%e5%bc%80%e6%ba%90%e4%b8%8e%e4%bd%bf%e7%94%a8 aria-label=开源与使用>开源与使用</a></li></ul></li><li><a href=#%e7%bb%93%e8%af%ad aria-label=结语>结语</a></li></ul></div></details></div><div class=post-content><p>作为一名长期使用 <strong>Obsidian</strong> 记录生活和技术的用户，我也同时是静态博客 <strong>Hugo</strong> 的拥趸。但长久以来，最大的痛点在于如何把这两者优雅地连接起来。</p><p>我不希望每次发布文章都要手动复制文件、处理图片路径、调整 Front Matter。我理想中的流是：<strong>在 Obsidian 里按下 Ctrl+S，本地的 Hugo 预览就能实时更新，确认无误后一个 Git Push 完成发布。</strong></p><p>经过一番折腾，我终于基于 CouchDB 和自己编写的一个同步脚本，打通了这套全链路。</p><h2 id=架构概览>架构概览<a hidden class=anchor aria-hidden=true href=#架构概览>#</a></h2><p>我的整套发布流涉及以下几个核心节点：</p><ol><li><strong>写作端</strong>：Obsidian (配合 Self-hosted Livesync 插件)</li><li><strong>数据中转</strong>：CouchDB (运行在 Docker 中)</li><li><strong>同步核心</strong>：<strong>自研提取脚本 (运行在 Docker 中)</strong></li><li><strong>生成端</strong>：本地 Hugo 环境</li><li><strong>图床方案</strong>：Lsky Pro + Cloudflare R2</li></ol><h3 id=核心流程>核心流程<a hidden class=anchor aria-hidden=true href=#核心流程>#</a></h3><ol><li><strong>Obsidian 写作</strong>：我在 Obsidian 中修改笔记。</li><li><strong>实时同步</strong>：<code>Obsidian Livesync</code> 插件将变更实时推送到我的私有 <code>CouchDB</code> 数据库。</li><li><strong>自动提取</strong>：我的<strong>同步脚本</strong>监听数据库变动，解析数据，还原为标准的 <code>.md</code> 文件写入 Hugo 的 <code>content</code> 目录。</li><li><strong>本地调试</strong>：本地运行的 <code>hugo server</code> 检测到文件变动，实时刷新浏览器预览。</li><li><strong>发布</strong>：确认无误后，Git Commit & Push，触发 CI/CD 或直接推送到服务器。</li></ol><hr><h2 id=为什么不直接用-obsidian-git>为什么不直接用 Obsidian Git？<a hidden class=anchor aria-hidden=true href=#为什么不直接用-obsidian-git>#</a></h2><p>很多人可能会问：<em>“为什么不直接用 Obsidian Git 插件把 Vault 推送到 GitHub，然后用 GitHub Actions 自动构建 Hugo 呢？”</em></p><p>虽然 Git 方案配置简单，但在实际的<strong>高频写作</strong>和<strong>多端同步</strong>场景下，我这套“数据库 + 中转脚本”的方案有着无法替代的优势：</p><h3 id=1-移动端的无感体验-the-mobile-experience>1. 移动端的“无感”体验 (The Mobile Experience)<a hidden class=anchor aria-hidden=true href=#1-移动端的无感体验-the-mobile-experience>#</a></h3><ul><li><p><strong>Git 方案的痛点</strong>：在手机（尤其是 iOS）上使用 Git 体验极差。你需要在写作前 <code>Pull</code>，写作后 <code>Push</code>。如果忘记 Pull 直接写，很容易产生冲突；如果忘记 Push，回到电脑前又看不到最新的修改。这打断了“随时随地记录”的心流。</p></li><li><p><strong>本方案优势</strong>：<strong>Livesync</strong> 是基于数据库的实时（或准实时）同步。我在 iPhone 上写一段话，几秒钟后它就自动出现在了我的电脑和 CouchDB 里，完全不需要手动操作。这种体验更接近 Notion 或 Google Docs，丝般顺滑。</p></li></ul><h3 id=2-保存与发布的逻辑解耦>2. “保存”与“发布”的逻辑解耦<a hidden class=anchor aria-hidden=true href=#2-保存与发布的逻辑解耦>#</a></h3><ul><li><p><strong>Git 方案的痛点</strong>：如果你用 Git 插件自动备份（比如每 10 分钟），你的 Commit 历史会充斥着 &ldquo;Auto backup&rdquo; 这样的垃圾信息。如果你手动 Commit，又很容易忘记。更重要的是，<strong>保存笔记</strong>和<strong>发布博客</strong>混在了一起，你想保存草稿，却可能意外触发了 CI/CD 自动发布。</p></li><li><p><strong>本方案优势</strong>：</p><ul><li><p><strong>写作层</strong>：利用 CouchDB 同步，我可以随意修改、产生无数个中间版本，这只是“数据同步”。</p></li><li><p><strong>发布层</strong>：当我觉得文章写好了，脚本已经把它提取到了 Hugo 目录。此时我只需在 Hugo 目录下做一次有意义的 <code>Git Commit & Push</code>。</p></li><li><p><strong>结论</strong>：保持了 Git 历史的干净，且发布动作充满了仪式感和掌控感。</p></li></ul></li></ul><h3 id=3-精准的隐私隔离-selective-publishing>3. 精准的隐私隔离 (Selective Publishing)<a hidden class=anchor aria-hidden=true href=#3-精准的隐私隔离-selective-publishing>#</a></h3><ul><li><p><strong>Git 方案的痛点</strong>：通常 Git 插件是针对整个 Vault 的。如果你想把博客源码开源，却又想保留私人日记，你需要折腾 <code>.gitignore</code> 或者复杂的 submodule 嵌套，稍有不慎就会把私钥或日记 push 上去。</p></li><li><p><strong>本方案优势</strong>：我的脚本原生支持 <code>TARGET_FOLDER</code> 过滤。我的 Vault 里可以有 <code>Diary</code>、<code>Work</code>、<code>Finance</code> 等无数私密文件夹，脚本只会把 <code>Blog</code> 文件夹下的内容提取出来。<strong>物理级别的隔离</strong>，让我对隐私安全绝对放心。</p></li></ul><h3 id=4-避免-git-冲突地狱>4. 避免 Git 冲突地狱<a hidden class=anchor aria-hidden=true href=#4-避免-git-冲突地狱>#</a></h3><ul><li><p><strong>Git 方案的痛点</strong>：Obsidian 的文件本质是文本，但前台配置（workspace, appearance）经常变动。多端 Git 同步时，经常出现 <code>Merge Conflict</code>，导致文件里出现 <code>&lt;&lt;&lt;&lt; HEAD</code> 这种破坏标记，修复起来很烦人。</p></li><li><p><strong>本方案优势</strong>：Livesync 基于 CouchDB 的文档级冲突解决机制，比 Git 处理纯文本冲突更智能、更温和。即使出现冲突，也是在数据库层面解决，不会破坏本地正在调试的 Hugo 构建环境。</p></li></ul><h3 id=5-纯净的内容交付>5. 纯净的内容交付<a hidden class=anchor aria-hidden=true href=#5-纯净的内容交付>#</a></h3><ul><li><p><strong>Git 方案的痛点</strong>：Obsidian 的 Markdown 语法（如双链 <code>[[Link]]</code>）和 Hugo 标准 Markdown 并不完全兼容。直接 Push 原文可能导致博客渲染出错。</p></li><li><p><strong>本方案优势</strong>：既然中间有一个 Python 脚本在跑，我拥有了<strong>预处理能力</strong>。未来我可以在脚本里加入正则替换功能，比如自动把 <code>[[Obsidian链接]]</code> 转换为 <code>[Hugo链接](...)</code>，或者自动处理 Front Matter 的格式转换，这是直接 Git Push 做不到的。</p></li></ul><h3 id=6-self-hosted-玩家的终极快乐内网闭环>6. Self-Hosted 玩家的终极快乐：内网闭环<a hidden class=anchor aria-hidden=true href=#6-self-hosted-玩家的终极快乐内网闭环>#</a></h3><blockquote><p>如果你不是将博客托管在 GitHub Pages，而是运行在自己的服务器（VPS 或 NAS）上，那这个方案简直是为你量身定做的。</p></blockquote><ul><li><p><strong>Git 方案的痛点</strong>：如果你自建博客，使用 Git 发布通常意味着：<code>本地 Push</code> -> <code>GitHub 接收</code> -> <code>触发 Webhook</code> -> <code>服务器 Pull</code> -> <code>构建</code>。或者你需要配置 GitHub Actions Runner，把数据传给微软（GitHub），再传回你的服务器。这不仅慢，而且依赖外部网络。一旦 GitHub 宕机或网络波动，发布就卡住了。</p></li><li><p><strong>本方案优势</strong>：这是一条<strong>纯内网的、点对点</strong>的高速通道。</p><ul><li><p><strong>拓扑优势</strong>：Obsidian 在手边，CouchDB 和 Web Server 在自家服务器里。数据从头到尾没有流经任何第三方平台。</p></li><li><p><strong>架构极简</strong>：脚本直接把 Markdown 吐到 Web 服务器（如 Nginx 容器挂载的目录）或 Hugo 的监听目录下。<strong>没有 Webhook，没有 CI/CD 流水线，没有公网传输</strong>。</p></li><li><p><strong>极致速度</strong>：这种“左手倒右手”的本地文件系统操作，让更新速度只取决于你服务器的磁盘 IO，而不是公网带宽。</p></li></ul></li></ul><hr><h2 id=关于图片的处理图床方案>关于图片的处理：图床方案<a hidden class=anchor aria-hidden=true href=#关于图片的处理图床方案>#</a></h2><p>在静态博客中，图片管理一直是个麻烦事。如果把图片和 Markdown 混在一起同步，仓库体积会迅速膨胀，且路径处理极其繁琐。</p><p>我的解决方案是<strong>完全剥离图片存储</strong>：</p><ul><li><strong>存储后端</strong>：使用 <strong>Cloudflare R2</strong>，免费额度大且速度快。</li><li><strong>管理前端</strong>：自建 <strong>Lsky Pro</strong> 图床。</li><li><strong>上传插件</strong>：在 Obsidian 中安装 <strong>Image To Lskypro</strong> 插件。</li></ul><p><strong>效果</strong>：当我在 Obsidian 中粘贴图片时，插件自动将其上传至 R2，并返回标准的 Markdown 图片链接（如 <code>![] (https://img.mydomain.com/...)</code>）。</p><p>因此，存入 CouchDB 和同步到本地的 Markdown 文件中，只包含纯文本链接，干净清爽。</p><hr><h2 id=缺失的一环从-couchdb-到-markdown>缺失的一环：从 CouchDB 到 Markdown<a hidden class=anchor aria-hidden=true href=#缺失的一环从-couchdb-到-markdown>#</a></h2><p>Obsidian Livesync 插件非常强大，实现了多端实时同步。但它为了效率，将数据以 JSON/Blob 的形式存在 CouchDB 里，并不是直接存储为文件系统中的 <code>.md</code> 文件。</p><p>为了把数据库里的“碎片”还原成 Hugo 能识别的博客文章，我需要一个“翻译官”。</p><h3 id=自研同步脚本-obsidian-sync-script>自研同步脚本 (Obsidian-Sync-Script)<a hidden class=anchor aria-hidden=true href=#自研同步脚本-obsidian-sync-script>#</a></h3><p>我在 Docker 容器中跑了一个 Python 脚本，充当了这个桥梁。</p><p>它主要做了这几件事：</p><ul><li><strong>⏱️ 定时轮询</strong>：脚本会以设定的时间间隔（例如每 20 秒）去询问 CouchDB 是否有新变动。虽然不是毫秒级实时，但作为博客发布流，这种<strong>准实时</strong>的节奏既节省资源，又能保证写完几口咖啡的时间里内容就已同步。</li><li><strong>📂 目录还原</strong>：完美保留 Obsidian 中的文件夹层级结构（例如 <code>/Blog/Tech/Docker.md</code>）。</li><li><strong>🧹 自动清理</strong>：如果在 Obsidian 里删除了文章或移动了文件夹，脚本会自动同步删除或移动本地文件，保持目录整洁。</li><li><strong>🛡️ 智能过滤</strong>：我设置了 <code>TARGET_FOLDER</code> 变量，只同步 <code>Blog</code> 文件夹下的内容，Obsidian 里的其他私有笔记绝不会泄露到博客目录</li></ul><h3 id=开源与使用>开源与使用<a hidden class=anchor aria-hidden=true href=#开源与使用>#</a></h3><p>为了方便维护和部署，我将这个脚本封装成了 Docker 镜像。如果你也在使用 Obsidian Livesync + CouchDB 方案，并且想实现类似的自动化导出功能，可以直接使用我的镜像。</p><p><strong>Github 项目地址：</strong></p><p>👉 <strong><a href=https://github.com/KuroIVeko/obsidian-sync-script>Obsidian-CouchDB-Sync-Script</a></strong></p><p><em>(具体的 Docker Compose 配置和环境变量说明，请移步 GitHub 仓库的 README 查看)</em></p><hr><h2 id=结语>结语<a hidden class=anchor aria-hidden=true href=#结语>#</a></h2><p>折腾工具的最终目的是为了忘记工具。</p><p>现在，无论是用电脑还是手机，只要我在 Obsidian 的 <code>Blog</code> 目录下新建一篇笔记，它就会自动出现在我的 Hugo 目录中。这种无感知的写作体验，让写博客重新变成了一件纯粹快乐的事情。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.suyuri.com/tags/obsidian/>Obsidian</a></li><li><a href=https://blog.suyuri.com/tags/hugo/>Hugo</a></li><li><a href=https://blog.suyuri.com/tags/docker/>Docker</a></li></ul><nav class=paginav><a class=next href=https://blog.suyuri.com/posts/%E5%87%8F%E8%82%A5%E4%B8%8D%E5%8F%AA%E6%98%AF%E4%B8%BA%E4%BA%86%E7%98%A6%E6%9B%B4%E6%98%AF%E4%B8%BA%E4%BA%86%E7%88%BD%E6%88%91%E7%9A%84%E9%A5%AE%E9%A3%9F%E8%BF%9B%E5%8C%96%E8%AE%BA/><span class=title>Next »</span><br><span>减肥不只是为了瘦，更是为了“爽”——我的饮食进化论</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share 无缝发布：我的 Obsidian 到 Hugo 自动化同步流 on x" href="https://x.com/intent/tweet/?text=%e6%97%a0%e7%bc%9d%e5%8f%91%e5%b8%83%ef%bc%9a%e6%88%91%e7%9a%84%20Obsidian%20%e5%88%b0%20Hugo%20%e8%87%aa%e5%8a%a8%e5%8c%96%e5%90%8c%e6%ad%a5%e6%b5%81&amp;url=https%3a%2f%2fblog.suyuri.com%2fposts%2f%25E5%258D%259A%25E5%25AE%25A2%25E9%2583%25A8%25E7%25BD%25B2%2f&amp;hashtags=Obsidian%2cHugo%2cDocker"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 无缝发布：我的 Obsidian 到 Hugo 自动化同步流 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.suyuri.com%2fposts%2f%25E5%258D%259A%25E5%25AE%25A2%25E9%2583%25A8%25E7%25BD%25B2%2f&amp;title=%e6%97%a0%e7%bc%9d%e5%8f%91%e5%b8%83%ef%bc%9a%e6%88%91%e7%9a%84%20Obsidian%20%e5%88%b0%20Hugo%20%e8%87%aa%e5%8a%a8%e5%8c%96%e5%90%8c%e6%ad%a5%e6%b5%81&amp;summary=%e6%97%a0%e7%bc%9d%e5%8f%91%e5%b8%83%ef%bc%9a%e6%88%91%e7%9a%84%20Obsidian%20%e5%88%b0%20Hugo%20%e8%87%aa%e5%8a%a8%e5%8c%96%e5%90%8c%e6%ad%a5%e6%b5%81&amp;source=https%3a%2f%2fblog.suyuri.com%2fposts%2f%25E5%258D%259A%25E5%25AE%25A2%25E9%2583%25A8%25E7%25BD%25B2%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 无缝发布：我的 Obsidian 到 Hugo 自动化同步流 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fblog.suyuri.com%2fposts%2f%25E5%258D%259A%25E5%25AE%25A2%25E9%2583%25A8%25E7%25BD%25B2%2f&title=%e6%97%a0%e7%bc%9d%e5%8f%91%e5%b8%83%ef%bc%9a%e6%88%91%e7%9a%84%20Obsidian%20%e5%88%b0%20Hugo%20%e8%87%aa%e5%8a%a8%e5%8c%96%e5%90%8c%e6%ad%a5%e6%b5%81"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 无缝发布：我的 Obsidian 到 Hugo 自动化同步流 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.suyuri.com%2fposts%2f%25E5%258D%259A%25E5%25AE%25A2%25E9%2583%25A8%25E7%25BD%25B2%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 无缝发布：我的 Obsidian 到 Hugo 自动化同步流 on whatsapp" href="https://api.whatsapp.com/send?text=%e6%97%a0%e7%bc%9d%e5%8f%91%e5%b8%83%ef%bc%9a%e6%88%91%e7%9a%84%20Obsidian%20%e5%88%b0%20Hugo%20%e8%87%aa%e5%8a%a8%e5%8c%96%e5%90%8c%e6%ad%a5%e6%b5%81%20-%20https%3a%2f%2fblog.suyuri.com%2fposts%2f%25E5%258D%259A%25E5%25AE%25A2%25E9%2583%25A8%25E7%25BD%25B2%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 无缝发布：我的 Obsidian 到 Hugo 自动化同步流 on telegram" href="https://telegram.me/share/url?text=%e6%97%a0%e7%bc%9d%e5%8f%91%e5%b8%83%ef%bc%9a%e6%88%91%e7%9a%84%20Obsidian%20%e5%88%b0%20Hugo%20%e8%87%aa%e5%8a%a8%e5%8c%96%e5%90%8c%e6%ad%a5%e6%b5%81&amp;url=https%3a%2f%2fblog.suyuri.com%2fposts%2f%25E5%258D%259A%25E5%25AE%25A2%25E9%2583%25A8%25E7%25BD%25B2%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentColor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 无缝发布：我的 Obsidian 到 Hugo 自动化同步流 on ycombinator" href="https://news.ycombinator.com/submitlink?t=%e6%97%a0%e7%bc%9d%e5%8f%91%e5%b8%83%ef%bc%9a%e6%88%91%e7%9a%84%20Obsidian%20%e5%88%b0%20Hugo%20%e8%87%aa%e5%8a%a8%e5%8c%96%e5%90%8c%e6%ad%a5%e6%b5%81&u=https%3a%2f%2fblog.suyuri.com%2fposts%2f%25E5%258D%259A%25E5%25AE%25A2%25E9%2583%25A8%25E7%25BD%25B2%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://blog.suyuri.com/>Suyurine's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>